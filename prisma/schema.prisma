generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

model User {
    id       String        @id @default(cuid())
    name     String
    contacts UserContact[]
    gildia   Gildia[]
}

model UserContact {
    id      String  @id @default(cuid())
    type    String
    contact String
    user    User?   @relation(fields: [userId], references: [id])
    userId  String?
}

model Server {
    id     String   @id @default(cuid())
    port   Int?
    domain String
    gildia Gildia[]
}

model Activity {
    id       String   @id @default(cuid())
    activity Int      @default(0)
    titanit  Int      @default(0)
    untts    String
    Gildia   Gildia[]
}

model GildiaScore {
    id     String   @id @default(cuid())
    league String?
    places Int?
    Gildia Gildia[]
}

model Hydra {
    id String @id @default(cuid())

    plain     Int      @default(0)
    older     Int      @default(0)
    ancient   Int      @default(0)
    nightmare Int      @default(0)
    legendary Int      @default(0)
    Gildia    Gildia[]
}

model GildiaWar {
    id String @id @default(cuid())

    heroes Int      @default(0)
    titans Int      @default(0)
    untts  String
    Gildia Gildia[]
}

model GlobalChampionship {
    id String @id @default(cuid())

    heroes Int      @default(0)
    untts  String
    Gildia Gildia[]
}

model Gildia {
    id        String   @id @default(cuid())
    name      String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    server   Server @relation(fields: [serverId], references: [id])
    serverId String

    user   User   @relation(fields: [userId], references: [id])
    userId String

    activity   Activity @relation(fields: [activityId], references: [id])
    activityId String

    gildiaScore   GildiaScore @relation(fields: [gildiaScoreId], references: [id])
    gildiaScoreId String

    hydra   Hydra  @relation(fields: [hydraId], references: [id])
    hydraId String

    gildiaWar   GildiaWar @relation(fields: [gildiaWarId], references: [id])
    gildiaWarId String

    globalChampionship   GlobalChampionship @relation(fields: [globalChampionshipId], references: [id])
    globalChampionshipId String
}
